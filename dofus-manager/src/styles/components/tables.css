/* ====================================
   TABLES
   ==================================== */

.table-container {
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
  width: 100%;
}

table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed; /* Force les colonnes à utiliser l'espace disponible */
}

/* Définir des largeurs optimales pour chaque colonne */
table thead th:nth-child(1) { width: 12%; } /* Nom */
table thead th:nth-child(2) { width: 8%; } /* Coût du lot */
table thead th:nth-child(3) { width: 8%; } /* Coût de fm */
table thead th:nth-child(4) { width: 7%; } /* Difficulté */
table thead th:nth-child(5) { width: 6%; } /* Quantité */
table thead th:nth-child(6) { width: 9%; } /* Prix vente unit. */
table thead th:nth-child(7) { width: 8%; } /* Coût/item */
table thead th:nth-child(8) { width: 10%; } /* Investissement */
table thead th:nth-child(9) { width: 9%; } /* Bénéfice/item */
table thead th:nth-child(10) { width: 10%; } /* Bénéfice total */
table thead th:nth-child(11) { width: 7%; } /* Rendement */
table thead th:nth-child(12) { width: 6%; } /* Actions */

thead th {
  padding: 1rem var(--spacing-md);
  font-size: 0.75rem;
  font-weight: 600;
  text-align: left;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-text-secondary);
  background: var(--color-bg-tertiary);
  border-bottom: 2px solid var(--color-border);
  position: sticky;
  top: 0;
  z-index: 10;
  white-space: nowrap; /* AJOUT: Empêche le retour à la ligne dans les en-têtes */
}

thead th.sortable {
  cursor: pointer;
  user-select: none;
  transition: all var(--transition-base);
  position: relative;
}

thead th.sortable::after {
  content: '⇅';
  margin-left: var(--spacing-xs);
  opacity: 0.3;
  transition: opacity var(--transition-base);
}

thead th.sortable:hover {
  color: var(--color-text-primary);
  background: var(--color-bg-elevated);
}

thead th.sortable:hover::after {
  opacity: 1;
}

tbody td {
  padding: 1rem var(--spacing-md);
  font-size: 0.875rem;
  border-bottom: 1px solid var(--color-border);
  transition: all var(--transition-base);
  vertical-align: middle;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* La colonne Nom peut afficher du texte sur plusieurs lignes si nécessaire */
tbody td:first-child {
  white-space: normal;
  word-wrap: break-word;
  line-height: 1.4;
}

tbody tr {
  transition: all var(--transition-base);
}

tbody tr:hover {
  background: var(--color-bg-tertiary);
}

tbody tr:hover td {
  border-color: var(--color-border-hover);
}

tbody tr:last-child td {
  border-bottom: none;
}

.table-actions {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  position: relative; /* AJOUT: Important pour le z-index */
  z-index: 1; /* AJOUT: Assure que les boutons sont au-dessus */
}

/* FIX: S'assurer que les boutons d'action sont cliquables */
.table-actions .icon-btn {
  pointer-events: auto; /* AJOUT: Force les boutons à être cliquables */
  position: relative;
  z-index: 2;
}

/* Responsive: Scroll horizontal uniquement sur petits écrans */
@media (max-width: 1200px) {
  .table-container {
    overflow-x: auto;
  }
  
  table {
    table-layout: auto;
    min-width: 1200px; /* Force une largeur minimale */
  }
}