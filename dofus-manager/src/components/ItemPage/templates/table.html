<!-- Table des items -->
<div class="card">
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th @click="sort('name')" class="sortable">Nom</th>
          <th @click="sort('lotCost')" class="sortable">Co√ªt du lot</th>
          <th @click="sort('forgemageCost')" class="sortable">Co√ªt de fm</th>
          <th>Difficult√©</th>
          <th>Quantit√©</th>
          <th @click="sort('salePrice')" class="sortable">Prix vente unit.</th>
          <th @click="sort('costPerItem')" class="sortable">Co√ªt/item</th>
          <th @click="sort('totalInvestment')" class="sortable">Investissement</th>
          <th @click="sort('profitPerItem')" class="sortable">B√©n√©fice/item</th>
          <th @click="sort('totalProfit')" class="sortable">B√©n√©fice total</th>
          <th @click="sort('yield')" class="sortable">Rendement</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <template x-for="(item, index) in items" :key="item.id">
          <tr>
            <td x-text="item.name"></td>
            <td x-text="formatKamas(item.lotCost)"></td>
            <td x-text="formatKamas(item.forgemageCost)"></td>
            <td>
              <span class="badge" :class="getDifficultyBadgeClass(item.difficulty)" x-text="item.difficulty"></span>
            </td>
            <td x-text="item.quantity"></td>
            <td x-text="formatKamas(item.salePrice)"></td>
            <td x-text="formatKamas(item.calculations.costPerItem)"></td>
            <td x-text="formatKamas(item.calculations.totalInvestment)"></td>
            <td :class="item.calculations.profitPerItem > 0 ? 'profit-positive' : 'profit-negative'" x-text="formatKamas(item.calculations.profitPerItem)"></td>
            <td :class="item.calculations.totalProfit > 0 ? 'profit-positive' : 'profit-negative'" x-text="formatKamas(item.calculations.totalProfit)"></td>
            <td x-text="formatPercent(item.calculations.yield)"></td>
            <td>
              <div class="table-actions">
                <button @click="openEditModal(item)" type="button" class="icon-btn">‚úèÔ∏è</button>
                <button @click="deleteItem(item)" type="button" class="icon-btn">üóëÔ∏è</button>
              </div>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
  </div>
</div>